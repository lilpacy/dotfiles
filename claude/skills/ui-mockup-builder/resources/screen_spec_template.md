# [画面名] Specification

## Meta
- **Screen ID**: `<screen-id>`
- **Last updated**: YYYY-MM-DD
- **Owner**: (誰が仕様を管理?)

---

## 1. Purpose(目的)
この画面でユーザーが達成することは?
- [ ] (例)ユーザー一覧を確認し、特定のユーザーを選択して詳細を確認する
- [ ] (例)商品を検索し、条件に合った商品を絞り込む

---

## 2. Routes / Entry conditions(到達条件)
- **URL**: `/path/to/screen`
- **権限**: (例)管理者のみ / ログインユーザー / 全ユーザー
- **前提条件**: (例)プロジェクトが1つ以上存在する / ログイン済み

---

## 3. Layout(レイアウト)
画面の領域分割と主要セクションを記述。

### 構造
```
┌─────────────────────────────────────────────┐
│ Header (グローバルナビ/ロゴ/ユーザーメニュー)│
├─────────────────────────────────────────────┤
│ Breadcrumb                                   │
├──────────┬──────────────────────────────────┤
│ Sidebar  │ Main Content                      │
│          │ ├ Title & Actions                 │
│          │ ├ Filters (optional)              │
│          │ └ Content Area                    │
└──────────┴──────────────────────────────────┘
```

### グリッド/スペーシング
- コンテナ幅: (例)max-w-7xl / 1280px
- 主要余白: (例)pt-8 / pb-16 / px-4
- カラム分割: (例)Sidebar 240px / Main 1fr

---

## 4. Components used(使用コンポーネント)
画面内で使用するコンポーネントのリスト。新規コンポーネントは `components/` で仕様を定義。

- [ ] `Button` (primary, secondary, ghost)
- [ ] `Table` (sortable, pagination)
- [ ] `Card` (user-card variant)
- [ ] `Input` (text, search)
- [ ] `Badge` (status-badge variant)
- [ ] `Modal` (confirmation-modal)
- [ ] `Toast` (success, error)
- [ ] (新規)`<component-name>` → `components/<component-id>__spec.md`

---

## 5. Content(表示データ)
実データに近いサンプルで記述。桁数・改行・i18n・可変長を意識。

### データ例
| Field          | Example Value                     | Notes                          |
|----------------|-----------------------------------|--------------------------------|
| User Name      | 田中 太郎 / Taro Tanaka           | 最大20文字 / i18n対応           |
| Email          | taro.tanaka@example.com           | 最大50文字                      |
| Status         | Active / Inactive / Suspended     | Badge表示                      |
| Created At     | 2025-01-08 14:30                  | YYYY-MM-DD HH:mm形式            |
| Description    | これは長いテキストの例です...(省略) | 最大200文字、超過は省略表示      |

### 文言
主要な文言は `copy/strings.md` に集約し、ここでは参照のみ。

---

## 6. States(状態)
静的画で誤解されやすい状態を明確にする。最低限:通常/空/ローディング/エラー/成功を定義。

### 6.1 Normal(通常)
- データが存在し、正常に表示されている状態
- (スクリーンショット or HTMLモックへのリンク)

### 6.2 Empty(空)
- データが0件の場合の表示
- 表示メッセージ:「まだ〇〇がありません」
- アクション:「新規作成」ボタンを表示
- (スクリーンショット or HTMLモックへのリンク)

### 6.3 Loading(ローディング)
- 初回読み込み時:Skeleton UI / Spinner
- 再読み込み時:データを残したままSpinner overlay
- (スクリーンショット or HTMLモックへのリンク)

### 6.4 Error(エラー)
- ネットワークエラー:「接続に失敗しました。再試行してください。」
- 権限エラー:「この操作を実行する権限がありません。」
- バリデーションエラー:フィールドごとにエラーメッセージ表示
- (スクリーンショット or HTMLモックへのリンク)

### 6.5 Success(成功)
- 操作完了時:Toast通知「〇〇を作成しました」
- 表示時間:3秒で自動非表示
- (スクリーンショット or HTMLモックへのリンク)

### 6.6 Disabled(無効)
- 条件未達時:ボタン無効化、グレーアウト
- ツールチップ:「〇〇を選択してください」
- (スクリーンショット or HTMLモックへのリンク)

---

## 7. Notes(注釈)
静的画で伝わらない挙動、開発に伝えるべき注意点を記述。

### Interaction(インタラクション)
- ホバー時:カード全体に影を追加、色を変更
- クリック時:詳細ページに遷移
- ドラッグ&ドロップ:並び順を変更(保存ボタンで確定)

### Validation(バリデーション)
- Email:RFC準拠のメールアドレス形式
- Password:最低8文字、英数字記号を含む
- リアルタイムバリデーション:フォーカスアウト時にチェック

### Async(非同期処理)
- 保存ボタン押下後、ボタンをLoading状態にし、二重送信を防ぐ
- 成功時:Toast表示 + データ再読み込み
- 失敗時:エラーメッセージ表示 + ボタンを元に戻す

---

## 8. Responsive(レスポンシブ)
主要ブレークポイントで何が変わるか。

| Breakpoint | Width     | Changes                                      |
|------------|-----------|----------------------------------------------|
| Desktop    | ≥1024px   | サイドバー表示、3カラムグリッド              |
| Tablet     | 768-1023px| サイドバー折りたたみ、2カラムグリッド         |
| Mobile     | <768px    | サイドバー非表示、1カラム、スタック表示      |

---

## 9. Accessibility(アクセシビリティ)
最低限の配慮事項。

- **コントラスト**:WCAG AA準拠(4.5:1以上)
- **フォーカス**:Tab順序が論理的、フォーカスリングを必ず表示
- **キーボード操作**:Enter/Space/Esc/矢印キーで主要操作が可能
- **スクリーンリーダー**:aria-label/aria-describedby/role属性を適切に付与
- **エラー通知**:aria-live="polite"でエラーメッセージを読み上げ

---

## 10. Open Questions(未確定事項)
実装前に確定すべき事項。

- [ ] (例)削除時、確認モーダルを出すか?それともToast+Undoか?
- [ ] (例)ページネーションは何件ずつ?無限スクロール?
- [ ] (例)ソート初期値は?ユーザーの選択を保存するか?

---

## 11. Links(関連リンク)
- PRD: `docs/prd/YYYY-MM-DD-<slug>.md`
- 画面遷移図: `docs/flow/<flow-name>.md`
- デザインシステム: `docs/design-system/`
- 関連Issue: #123
